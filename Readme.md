Lcnc is an fpga firmware that will transform colorlight 
boards such as 5A-75B or 5A-75E in linuxcnc peripheral boards.
The communication with the host pc is trough gigabit ethernet.
The protocol used is etherbone.
The firmware is written in migen, using Litex framework.

Lcnc is my own interpretation of colorcnc form 
Roman Pechenko <romanetz4@gmail.com> "romanetz"
https://forum.linuxcnc.org/27-driver-boards/44422-colorcnc

Getting started:
- board colorlight 5a 75b or 75e, and a jtag adapter for loading and flasing bitfiles
- be sure to have Litex installed and working on host pc, see https://github.com/enjoy-digital/litex
- clone Lcnc repo on your pc
- optionally edit Lcnc.py:
  modify what is between
  "Devices configuration start"
  and
  "Devices configuration end"
  This part of the firmwre file contains the list of the peripherals you want to include in the build, 
  and the board pins assigned to each. 
  The default driver contains a basic example with several inputs, outputs, pwm generators
  encoders, step generators.
- execute Lcnc.py:
  the command used to execute the firmware generation will accept arguments that will define
  the particular board to be used as target, and the ip address to assign to the board.
  typing "./Lcnc.py --build --doc" will build the default target that is a colorlight 5A-75E V6.0 with ip=192.168.2.50
  this can be changed adding for example --board=5a-75b --version=8.0 --ip-addr=192.168.1.5
- once the script complete the execution will generate many files, 3 of these are the most important:
  - bitfile, you will find it in /build/colorlight_5a_75e/gateware/Lcnc.bit
    you will load this file on the board's fpga, I'm using openfpgaloader utility, with a ftdi jtag adapter
  - etherbone registers definition under /build/colorlight_5a_75e/software/include/generated/csr.h
    this file wil be needed by the linuxcnc driver, copy this file in the folder driver/include/
  - autogenerated driver header configuration_auto.h, copy also this file in the folder driver/include/
- now copy the driver folder on the machine that runs Linuxcnc, in my case it is differnat than host machine since I'm using a raspberry
- build the driver with the command sudo ./halcompile Lcnc.c
- connect the board, ping it to make sure it is connected to ethernet
- start the driver

Enjoy

Fabio Eboli